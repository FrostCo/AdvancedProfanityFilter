/*! For license information please see bookmarkletFilter.js.LICENSE.txt */
(()=>{var e={50:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,i=(s=r(357))&&s.__esModule?s:{default:s};function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o{static byHostname(e,t){const r=o.findDomainKey(e,t)||e,s=o.byKey(r,t);return s.hostname=e,s}static byKey(e,t){return new o(e,t[e])}static findDomainKey(e,t){return Object.keys(t).sort(((e,t)=>t.length-e.length)).find((t=>new RegExp(`(^|.)${t}$`).test(e)))}static getCurrentTab(){return new Promise(((e,t)=>{chrome.tabs.query({active:!0,currentWindow:!0},(t=>{e(t[0])}))}))}static sortedKeys(e){return Object.keys(e).sort(((e,t)=>{const r=o.sortingKey(e),s=o.sortingKey(t);return r==s?e<t?-1:e>t?1:0:r<s?-1:r>s?1:0}))}static sortingKey(e){const t=e.split(".");switch(t.length){case 1:case 2:return t[0];case 3:return t[1];case 4:return t[1].match(/^\d+$/)?e:t[3].length?t[1]:t[2];default:return t[2]}}constructor(e,t){a(this,"advanced",void 0),a(this,"cfg",void 0),a(this,"cfgKey",void 0),a(this,"deep",void 0),a(this,"disabled",void 0),a(this,"enabled",void 0),a(this,"framesOff",void 0),a(this,"framesOn",void 0),a(this,"hostname",void 0),a(this,"tab",void 0),a(this,"wordlistId",void 0),this.cfgKey=e,this.cfg={},t?this.cfg=t:Object.assign(this.cfg,o._domainCfgDefaults),this.updateFromCfg()}getModeIndex(){return this.advanced?i.default.DOMAIN_MODES.ADVANCED:this.deep?i.default.DOMAIN_MODES.DEEP:i.default.DOMAIN_MODES.NORMAL}async save(e){if(e.domains)return this.updateCfg(),"{}"===JSON.stringify(this.cfg)?delete e.domains[this.cfgKey]:e.domains[this.cfgKey]=this.cfg,await e.save("domains")}updateCfg(){this.cfg.adv=!0===this.advanced||void 0,this.cfg.deep=!0===this.deep||void 0,this.cfg.disabled=!0===this.disabled||void 0,this.cfg.enabled=!0===this.enabled||void 0,this.cfg.framesOff=!0===this.framesOff||void 0,this.cfg.framesOn=!0===this.framesOn||void 0,this.cfg.wordlist=this.wordlistId>=0?this.wordlistId:void 0}updateFromCfg(){this.advanced=this.cfg.adv,this.deep=this.cfg.deep,this.disabled=this.cfg.disabled,this.enabled=this.cfg.enabled,this.framesOff=this.cfg.framesOff,this.framesOn=this.cfg.framesOn,this.wordlistId=this.cfg.wordlist}updateFromModeIndex(e){switch(e){case i.default.DOMAIN_MODES.NORMAL:this.advanced=!1,this.deep=!1;break;case i.default.DOMAIN_MODES.ADVANCED:this.advanced=!0,this.deep=!1;break;case i.default.DOMAIN_MODES.DEEP:this.advanced=!1,this.deep=!0}}}t.default=o,a(o,"_domainCfgDefaults",{adv:void 0,deep:void 0,disabled:void 0,enabled:void 0,framesOff:void 0,framesOn:void 0,wordlist:void 0})},513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,i=(s=r(357))&&s.__esModule?s:{default:s};function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o{constructor(e={}){a(this,"censorCharacter",void 0),a(this,"censorFixedLength",void 0),a(this,"defaultSubstitution",void 0),a(this,"defaultWordMatchMethod",void 0),a(this,"defaultWordRepeat",void 0),a(this,"defaultWordSeparators",void 0),a(this,"filterMethod",void 0),a(this,"filterWordList",void 0),a(this,"iWordAllowlist",void 0),a(this,"loggingLevel",void 0),a(this,"preserveCase",void 0),a(this,"preserveFirst",void 0),a(this,"preserveLast",void 0),a(this,"showCounter",void 0),a(this,"showSummary",void 0),a(this,"substitutionMark",void 0),a(this,"wordAllowlist",void 0),a(this,"wordlistId",void 0),a(this,"wordlists",void 0),a(this,"wordlistsEnabled",void 0),a(this,"words",void 0),a(this,"wordSubSeparator",void 0),Object.assign(this,o._defaults,e)}addWord(e,t=this.defaultWordOptions()){return e=e.trim(),(t=Object.assign({},this.defaultWordOptions(),t)).matchMethod!==i.default.MATCH_METHODS.REGEX&&(e=e.toLowerCase()),!Object.keys(this.words).includes(e)&&(t.sub=t.case==i.default.TRUE?t.sub.trim():t.sub.trim().toLowerCase(),this.words[e]=t,!0)}defaultWordOptions(){return{lists:[],matchMethod:this.defaultWordMatchMethod,repeat:this.defaultWordRepeat,separators:this.defaultWordSeparators,sub:""}}removeWord(e){const t=(e=e.trim()).toLowerCase();return Object.keys(this.words).includes(t)?(delete this.words[t],!0):!!this.words[e]&&(delete this.words[e],!0)}repeatForWord(e){return this.words[e].repeat===i.default.TRUE||this.words[e].repeat===i.default.FALSE?this.words[e].repeat:this.defaultWordRepeat}sanitizeWords(){const e={};Object.keys(this.words).sort().forEach((t=>{e[t.trim().toLowerCase()]=this.words[t]})),this.words=e}}t.default=o,a(o,"_allWordlists",["All words"]),a(o,"_defaults",{censorCharacter:"*",censorFixedLength:0,defaultSubstitution:"censored",defaultWordMatchMethod:i.default.MATCH_METHODS.EXACT,defaultWordRepeat:i.default.FALSE,defaultWordSeparators:i.default.FALSE,filterMethod:i.default.FILTER_METHODS.SUBSTITUTE,filterWordList:!0,iWordAllowlist:[],loggingLevel:i.default.LOGGING_LEVELS.WARN,preserveCase:!0,preserveFirst:!0,preserveLast:!1,showCounter:!0,showSummary:!0,substitutionMark:!1,wordAllowlist:[],wordlistId:0,wordlists:["Wordlist 1","Wordlist 2","Wordlist 3","Wordlist 4","Wordlist 5","Wordlist 6"],wordlistsEnabled:!0,wordSubSeparator:";;"}),a(o,"_defaultWords",{ass:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"butt"},asses:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.FALSE,separators:i.default.FALSE,sub:"butts"},asshole:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"jerk"},badass:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.TRUE,sub:"cool"},bastard:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"idiot"},bitch:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"bench"},cocksucker:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.TRUE,sub:"suckup"},cunt:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"expletive"},dammit:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.FALSE,separators:i.default.TRUE,sub:"dangit"},damn:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.FALSE,separators:i.default.FALSE,sub:"dang"},dumbass:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"idiot"},fag:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"gay"},faggot:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"gay"},fags:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"gays"},fuck:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.TRUE,sub:"freak"},goddammit:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.TRUE,sub:"dangit"},hell:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.FALSE,separators:i.default.FALSE,sub:"heck"},jackass:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.TRUE,sub:"jerk"},nigga:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"bruh"},nigger:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"man"},niggers:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"people"},piss:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"pee"},pissed:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"ticked"},pussies:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"softies"},pussy:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"softie"},shit:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"crap"},slut:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"tramp"},tits:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"chest"},twat:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"dumbo"},twats:{lists:[],matchMethod:i.default.MATCH_METHODS.EXACT,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"dumbos"},whore:{lists:[],matchMethod:i.default.MATCH_METHODS.PARTIAL,repeat:i.default.TRUE,separators:i.default.FALSE,sub:"tramp"}})},357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(582);function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a{static filterMethodName(e){return this.nameById(this.FILTER_METHODS,e)}static loggingLevelName(e){return this.nameByValue(this.LOGGING_LEVELS,e)}static matchMethodName(e){return this.nameById(this.MATCH_METHODS,e)}static nameById(e,t){return(0,s.upperCaseFirst)(Object.entries(e).filter((e=>e[1]===t))[0][0])}static nameByValue(e,t){return Object.keys(e).find((r=>e[r]==t))}static orderedArray(e){const t=[];return Object.values(e).sort().forEach((r=>{t.push(a.nameById(e,r))})),t}}t.default=a,i(a,"ALL_WORDS_WORDLIST_ID",0),i(a,"BUILD_TARGET_BOOKMARKLET","bookmarklet"),i(a,"BUILD_TARGET_CHROME","chrome"),i(a,"BUILD_TARGET_FIREFOX","firefox"),i(a,"BUILD_TARGET_IOS","ios"),i(a,"BUILD_TARGET_SAFARI","safari"),i(a,"DOMAIN_MODES",{NORMAL:0,ADVANCED:1,DEEP:2}),i(a,"FALSE",0),i(a,"FILTER_METHODS",{CENSOR:0,SUBSTITUTE:1,REMOVE:2,OFF:3}),i(a,"LOGGING_LEVELS",{DEBUG:0,INFO:1,WARN:2,ERROR:3}),i(a,"MATCH_METHODS",{EXACT:0,PARTIAL:1,WHOLE:2,REGEX:3}),i(a,"MESSAGING",{BACKGROUND:"background",CONTEXT:"context",OPTION:"option",POPUP:"popup"}),i(a,"STATS_TYPE_TEXT","text"),i(a,"STATUS",{DISABLED:0,NORMAL:1,ADVANCED:2,DEEP:3}),i(a,"TRUE",1)},394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(r(357)),i=n(r(812)),a=n(r(709)),o=r(582);function n(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(){d(this,"allowlist",void 0),d(this,"cfg",void 0),d(this,"counter",void 0),d(this,"iAllowlist",void 0),d(this,"wordlistId",void 0),d(this,"wordlists",void 0),this.allowlist=[],this.counter=0,this.iAllowlist=[],this.wordlists={}}buildWordlist(e,t=!1){return!1===e&&(e=this.wordlistId),!t&&this.wordlists[e]||(this.wordlists[e]=new a.default(this.cfg,e)),e}checkAllowlist(e,t,r,a){const o=this.allowlist.length,n=this.iAllowlist.length;if(o||n){if(o&&this.allowlist.includes(e))return!0;if(n&&this.iAllowlist.includes(e.toLowerCase()))return!0;if(a.matchMethod===s.default.MATCH_METHODS.PARTIAL){const a={matchMethod:s.default.MATCH_METHODS.WHOLE,repeat:s.default.FALSE,separators:s.default.FALSE,sub:""},d=new i.default(e,a,this.cfg).regExp;let l;for(;null!==(l=d.exec(t));){const t=4==l.length?l[2]:l[0],s=4==l.length?l.index+l[1].length:l.index;if(s<=r&&s+t.length>=r+e.length){if(o&&this.allowlist.includes(t))return!0;if(n&&this.iAllowlist.includes(t.toLowerCase()))return!0}}}}return!1}foundMatch(e,t){this.counter++}init(e=!1){this.iAllowlist=this.cfg.iWordAllowlist,this.allowlist=this.cfg.wordAllowlist,void 0===this.wordlistId&&(this.wordlistId=null==this.cfg.wordlistId?s.default.ALL_WORDS_WORDLIST_ID:this.cfg.wordlistId),this.buildWordlist(e)}matchData(e,t,r,i){const a=e.find(t),o=i.pop(),n=i.pop(),d=i,l=d.length>0&&a.matchMethod!==s.default.MATCH_METHODS.REGEX;return l&&(r=d[1]),{word:a,string:o,match:r,matchStartIndex:n,captureGroups:d,internalCaptureGroups:l}}rebuildWordlists(){Object.keys(this.wordlists).forEach((e=>{this.buildWordlist(parseInt(e),!0)}))}replaceText(e,t=!1,r=s.default.STATS_TYPE_TEXT){t=this.buildWordlist(t);const a=this.wordlists[t];switch(this.cfg.filterMethod){case s.default.FILTER_METHODS.OFF:case s.default.FILTER_METHODS.CENSOR:a.regExps.forEach(((t,s)=>{e=e.replace(t,((e,...t)=>{const{word:i,string:o,match:n,matchStartIndex:d,captureGroups:l,internalCaptureGroups:u}=this.matchData(a,s,e,t);if(this.checkAllowlist(n,o,d,i))return n;r&&this.foundMatch(i,r);let c="";const h=this.cfg.censorFixedLength>0?this.cfg.censorFixedLength:n.length;return c=this.cfg.preserveFirst&&this.cfg.preserveLast?n[0]+this.cfg.censorCharacter.repeat(h-2)+n.slice(-1):this.cfg.preserveFirst?n[0]+this.cfg.censorCharacter.repeat(h-1):this.cfg.preserveLast?this.cfg.censorCharacter.repeat(h-1)+n.slice(-1):this.cfg.censorCharacter.repeat(h),u&&(c=l[0]+c+l[2]),c}))}));break;case s.default.FILTER_METHODS.SUBSTITUTE:a.regExps.forEach(((t,o)=>{e=e.replace(t,((e,...t)=>{const{word:n,string:d,match:l,matchStartIndex:u,captureGroups:c,internalCaptureGroups:h}=this.matchData(a,o,e,t);if(this.checkAllowlist(l,d,u,n))return l;r&&this.foundMatch(n,r);let f=this.shuffleSubstitution(n.subs);return n.matchMethod==s.default.MATCH_METHODS.REGEX&&c.length&&n.sub.includes("\\1")&&(c.forEach(((e,t)=>{f=f.replace(`\\${t+1}`,this.cfg.preserveCase?e:e.toLowerCase())})),f!==n.sub)?(this.cfg.substitutionMark&&(f="["+f+"]"),f):(n.case==s.default.FALSE&&this.cfg.preserveCase&&(i.default.allUpperCase(l)?f=f.toUpperCase():i.default.eachWordCapitalized(l)?f=i.default.capitalizeEachWord(f):i.default.firstCapitalized(l)&&(f=i.default.capitalizeFirst(f))),this.cfg.substitutionMark&&(f="["+f+"]"),h&&(f=c[0]+f+c[2]),f)}))}));break;case s.default.FILTER_METHODS.REMOVE:a.regExps.forEach(((t,s)=>{e=e.replace(t,((e,...t)=>{const{word:o,string:n,match:d,matchStartIndex:l,captureGroups:u,internalCaptureGroups:c}=this.matchData(a,s,e,t);return this.checkAllowlist(d.trim(),n,l,o)?d:(r&&this.foundMatch(o,r),c?i.default.whitespaceRegExp.test(u[0])&&i.default.whitespaceRegExp.test(u[2])?u[0]:i.default.nonWordRegExp.test(u[0])||i.default.nonWordRegExp.test(u[2])?(u[0]+u[2]).trim():"":i.default.whitespaceRegExp.test(d[0])&&i.default.whitespaceRegExp.test(d[d.length-1])?d[0]:"")}))}))}return e}replaceTextResult(e,t=!1,r=s.default.STATS_TYPE_TEXT){const i={original:e,filtered:this.replaceText(e,t,r),modified:!1};return i.modified=i.filtered!=e,i}shuffleSubstitution(e){return(0,o.randomArrayElement)(e)}}},582:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.booleanToNumber=function(e){return e?i.default.TRUE:i.default.FALSE},t.cloneWithJSON=function(e){return JSON.parse(JSON.stringify(e))},t.dynamicList=function(e,t,r=!1,s){n(t);(void 0!==s?[s].concat(e):e).forEach((e=>{const i=document.createElement("option");i.value=s&&e===s?"":e,i.textContent=r?d(e):e,t.appendChild(i)}))},t.exportToFile=function(e,t="data.txt"){const r="data:application/json;charset=utf-8,"+encodeURIComponent(e),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",t),s.click(),s.remove()},t.formatNumber=function(e){const t=e.toString().length;if(t<=3)return e.toString();if(t<=6){const t=(e/1e3).toPrecision(),r=t.indexOf(".");return(r>=-1&&r<=1?t.slice(0,3):t.slice(0,r))+"k"}if(t<=9){const t=(e/1e6).toPrecision(),r=t.indexOf(".");return(r>=-1&&r<=1?t.slice(0,3):t.slice(0,r))+"M"}return"1G+"},t.getElement=function(e,t=document){let r;const s=e.split(">>>");if(1==s.length)return t.querySelector(e);for(;s.length;){if(!t)return null;if(r=t.querySelector(s.shift().trim()),!r)return null;if(0==s.length)return r;t=r.shadowRoot}},t.getElements=function(e,t=document){let r;const s=e.split(">>>");if(1==s.length)return t.querySelectorAll(e);for(;s.length;){if(!t)return null;{const e=s.shift().trim();if(0==s.length)return t.querySelectorAll(e);if(r=t.querySelector(e),!r)return null;t=r.shadowRoot}}},t.getGlobalVariable=function(e,t="APFData"){const r=document.createElement("script");r.id=t,r.textContent=`document.getElementById("${t}").textContent = JSON.stringify(${e})`,document.documentElement.appendChild(r);const s=document.querySelector(`script#${t}`).textContent;return r.remove(),JSON.parse(s)},t.getGlobalVariableFromBackground=function(e,t="context"){return new Promise(((r,s)=>{const i={destination:"background",globalVariable:e,source:t};chrome.runtime.sendMessage(i,(e=>{r(e)}))}))},t.getParent=function e(t,r=1){return t?r>0?e(t.parentElement,r-1):t:null},t.getVersion=function(e){const t=e.split(".");return{major:parseInt(t[0]),minor:parseInt(t[1]),patch:parseInt(t[2])}},t.hmsToSeconds=function(e,t=3){const[r="0",s="0",i="0"]=(e||"0:0:0").split(":"),a=parseInt(r,10)||0,o=parseInt(s,10)||0,n=parseFloat(i)||0;return parseFloat((3600*a+60*o+n).toFixed(t))},t.injectScript=function(e,t,r=""){const s=document.getElementsByTagName(t)[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),r&&(i.id=r);i.setAttribute("src",e),s.appendChild(i)},t.isVersionOlder=function(e,t){if(e.major<t.major)return!0;if(e.major==t.major&&e.minor<t.minor)return!0;if(e.major==t.major&&e.minor==t.minor&&e.patch<t.patch)return!0;return!1},t.makeBackgroundRequest=function(e,t,r="context"){return new Promise(((s,i)=>{const a={destination:"background",fetch:e,fetchMethod:t.toUpperCase(),source:r};chrome.runtime.sendMessage(a,(e=>{s(e)}))}))},t.makeFetchRequest=a,t.makeRequest=async function(e,t){return fetch?await a(e,t):await o(e,t)},t.makeXMLHttpRequest=o,t.numberToBoolean=function(e){return e>i.default.FALSE},t.numberWithCommas=function(e){if("object"==typeof Intl&&"function"==typeof Intl.NumberFormat)return"string"==typeof e&&(e=parseInt(e).toString()),e.toLocaleString();{const t=(e=e.toString()).indexOf(".");let r=-1===t?e:e.slice(0,t);for(let e=r.length-3;e>0;e-=3)r=r.slice(0,e)+","+r.slice(e);return-1!==t&&(r+=e.slice(t)),r}},t.prettyPrintArray=function(e){return`[${e.toString().replace(/,/g,", ")}]`},t.randomArrayElement=function(e){const t=e.length;return t<=1?e[0]:e[Math.floor(Math.random()*t)]},t.readFile=function(e){return new Promise(((t,r)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.readAsText(e)}))},t.removeChildren=n,t.removeFromArray=function(e,t){return e.filter((e=>e!==t))},t.secondsToHMS=function(e){return new Date(1e3*e).toISOString().slice(11,23)},t.stringArray=function(e){"string"==typeof e&&(e=[e]);return e},t.upperCaseFirst=d;var s,i=(s=r(357))&&s.__esModule?s:{default:s};async function a(e,t="GET"){const r=await fetch(e,{method:t});return await r.text()}function o(e,t){return new Promise(((r,s)=>{const i=new XMLHttpRequest;i.open(t,e),i.onload=function(){this.status>=200&&this.status<300?r(this.response):s({status:this.status,statusText:this.statusText})},i.onerror=function(){s({status:this.status,statusText:this.statusText})},i.send()}))}function n(e){if(e.hasChildNodes)for(;e.firstChild;)e.firstChild.remove()}function d(e,t=!0){let r=e.charAt(0).toUpperCase();return r+=t?e.toLowerCase().slice(1):e.slice(1),r}},167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,i=(s=r(357))&&s.__esModule?s:{default:s};function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o{static debug(e,...t){this.log(this.debugName,e,t)}static debugTime(e,t=[]){this.logTime(this.debugName,e,t)}static error(e,...t){this.log(this.errorName,e,t)}static errorTime(e,t=[]){this.logTime(this.errorName,e,t)}static info(e,...t){this.log(this.infoName,e,t)}static infoTime(e,t=[]){this.logTime(this.infoName,e,t)}static log(e,t,r=[]){t=`[${o.app}] ${t}`,r.length?console[e](t,r):console[e](t)}static logTime(e,t,r=[]){const s=(new Date).toLocaleString();t=`[${o.app}] ${t}`,r.length?console[e](t,s,r):console[e](t,s)}static warn(e,...t){this.log(this.warnName,e,t)}static warnTime(e,t=[]){this.logTime(this.warnName,e,t)}constructor(e){a(this,"level",void 0),a(this,"prefix",void 0),this.level=o.defaultLevel,this.prefix="",e&&(this.prefix=`[${e}] `)}debug(e,...t){o.debugLevel>=this.level&&o.log(o.debugName,`${this.prefix}${e}`,t)}debugTime(e,...t){o.debugLevel>=this.level&&o.logTime(o.debugName,`${this.prefix}${e}`,t)}error(e,...t){o.errorLevel>=this.level&&o.log(o.errorName,`${this.prefix}${e}`,t)}errorTime(e,...t){o.errorLevel>=this.level&&o.logTime(o.errorName,`${this.prefix}${e}`,t)}info(e,...t){o.infoLevel>=this.level&&o.log(o.infoName,`${this.prefix}${e}`,t)}infoTime(e,...t){o.infoLevel>=this.level&&o.logTime(o.infoName,`${this.prefix}${e}`,t)}setLevel(e){this.level=e}warn(e,...t){o.warnLevel>=this.level&&o.log(o.warnName,`${this.prefix}${e}`,t)}warnTime(e,...t){o.warnLevel>=this.level&&o.logTime(o.warnName,`${this.prefix}${e}`,t)}}t.default=o,a(o,"app","APF"),a(o,"debugLevel",i.default.LOGGING_LEVELS.DEBUG),a(o,"debugName",i.default.loggingLevelName(o.debugLevel).toLowerCase()),a(o,"defaultLevel",i.default.LOGGING_LEVELS.WARN),a(o,"errorLevel",i.default.LOGGING_LEVELS.ERROR),a(o,"errorName",i.default.loggingLevelName(o.errorLevel).toLowerCase()),a(o,"infoLevel",i.default.LOGGING_LEVELS.INFO),a(o,"infoName",i.default.loggingLevelName(o.infoLevel).toLowerCase()),a(o,"warnLevel",i.default.LOGGING_LEVELS.WARN),a(o,"warnName",i.default.loggingLevelName(o.warnLevel).toLowerCase())},812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,i=(s=r(357))&&s.__esModule?s:{default:s};function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o{static allLowerCase(e){return e.toLowerCase()===e}static allUpperCase(e){return e.toUpperCase()===e}static capitalizeEachWord(e){return e.split(/[-_ ]+/i).forEach((t=>{e=e.replace(t,this.capitalizeFirst(t))})),e}static capitalizeFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static containsDoubleByte(e){return!!e.length&&(e.charCodeAt(0)>127||o._unicodeRegExp.test(e))}static eachWordCapitalized(e){return e.split(/[-_ ]+/i).every((e=>this.firstCapitalized(e)))}static escapeRegExp(e){return e.replace(o._escapeRegExp,"\\$&")}static firstCapitalized(e){const t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()}constructor(e,t,r){a(this,"_filterMethod",void 0),a(this,"case",void 0),a(this,"escaped",void 0),a(this,"lists",void 0),a(this,"matchMethod",void 0),a(this,"matchRepeated",void 0),a(this,"matchSeparators",void 0),a(this,"regExp",void 0),a(this,"sub",void 0),a(this,"subs",void 0),a(this,"unicode",void 0),a(this,"value",void 0),this.value=e,this.case=t.case>i.default.FALSE?i.default.TRUE:i.default.FALSE,this.lists=void 0===t.lists?[]:t.lists,this.matchMethod=void 0===t.matchMethod?r.defaultWordMatchMethod:t.matchMethod,this.matchRepeated=void 0===t.repeat?r.defaultWordRepeat:t.repeat,this.matchSeparators=void 0===t.separators?r.defaultWordSeparators:t.separators,this.sub=t.sub||r.defaultSubstitution,this.subs=this.sub.split(r.wordSubSeparator),this._filterMethod=void 0===t._filterMethod?r.filterMethod:t._filterMethod,this.unicode=o.containsDoubleByte(e),this.escaped=this.matchMethod===i.default.MATCH_METHODS.REGEX?this.value:o.escapeRegExp(this.value),this.regExp=this.buildRegExp()}buildRegExp(){try{switch(this.matchMethod){case i.default.MATCH_METHODS.PARTIAL:return this._filterMethod===i.default.FILTER_METHODS.REMOVE?this.unicode?new RegExp("(^|"+o._unicodeWordBoundary+"?)([\\w-]*"+this.processedPhrase()+"[\\w-]*)("+o._unicodeWordBoundary+"?|$)",this.regexOptions()):this.hasEdgePunctuation()?new RegExp("(^|\\s)([\\w-]*"+this.processedPhrase()+"[\\w-]*)(\\s|$)",this.regexOptions()):new RegExp("\\s?\\b[\\w-]*"+this.processedPhrase()+"[\\w-]*\\b\\s?",this.regexOptions()):new RegExp(this.processedPhrase(),this.regexOptions());case i.default.MATCH_METHODS.WHOLE:return this.unicode?new RegExp("(^|"+o._unicodeWordBoundary+"*)([\\S]*"+this.processedPhrase()+"[\\S]*)("+o._unicodeWordBoundary+"*|$)",this.regexOptions()):this.hasEdgePunctuation()?new RegExp("(^|\\s)([\\S]*"+this.processedPhrase()+"[\\S]*)(\\s|$)",this.regexOptions()):new RegExp("\\b[\\w-]*"+this.processedPhrase()+"[\\w-]*\\b",this.regexOptions());case i.default.MATCH_METHODS.REGEX:return new RegExp(this.value,this.regexOptions());case i.default.MATCH_METHODS.EXACT:default:return this.unicode||"-"!=this.value[0]&&"-"!=this.value[this.value.length-1]||(this.unicode=!0),this._filterMethod===i.default.FILTER_METHODS.REMOVE?this.unicode?new RegExp("(^|"+o._unicodeWordBoundary+")("+this.processedPhrase()+")("+o._unicodeWordBoundary+"|$)",this.regexOptions()):this.hasEdgePunctuation()?new RegExp("(^|\\s)("+this.processedPhrase()+")(\\s|$)",this.regexOptions()):new RegExp("\\s?\\b"+this.processedPhrase()+"\\b\\s?",this.regexOptions()):this.unicode?new RegExp("(^|"+o._unicodeWordBoundary+"+)("+this.processedPhrase()+")("+o._unicodeWordBoundary+"+|$)",this.regexOptions()):this.hasEdgePunctuation()?new RegExp("(^|\\s)("+this.processedPhrase()+")(\\s|$)",this.regexOptions()):new RegExp("\\b"+this.processedPhrase()+"\\b",this.regexOptions())}}catch(e){throw new Error(`Failed to create RegExp for '${this.value}'. [${e.name}: ${e.message}]`)}}hasEdgePunctuation(){return o._edgePunctuationRegExp.test(this.value)}processedPhrase(){const e=this.escaped.includes("\\");let t="";const r=this.escaped.length-1;for(let s=0;s<this.escaped.length;s++)e&&"\\"===this.escaped[s]&&(t+=this.escaped[s],s++),t+=this.escaped[s],this.matchRepeated&&(t+="+"),this.matchSeparators&&s!=r&&(t+=o.separatorsRegExp);return t}regexOptions(){let e="gi";return this.unicode&&(e+="u"),e}}t.default=o,a(o,"_edgePunctuationRegExp",/(^[,.'"!?%$+]|[,.'"!?%$+]$)/),a(o,"_escapeRegExp",/[\/\\^$*+?.()|[\]{}]/g),a(o,"_unicodeRegExp",/[^\u0000-\u00ff]/),a(o,"_unicodeWordBoundary","[\\s.,'\"+!?|-]"),a(o,"nonWordRegExp",new RegExp("^\\s*[^\\w]+\\s*$","g")),a(o,"separatorsRegExp","[-_ ]*"),a(o,"whitespaceRegExp",/^\s+$/)},709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(r(357)),i=a(r(812));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const n=new(a(r(167)).default)("Wordlist");t.default=class{constructor(e,t){o(this,"all",void 0),o(this,"list",void 0),o(this,"regExps",void 0),this.all=[],this.list=[],this.regExps=[],n.setLevel(e.loggingLevel);Object.keys(e.words).sort(((e,t)=>t.length-e.length)).forEach((r=>{if(t===s.default.ALL_WORDS_WORDLIST_ID||!Array.isArray(e.words[r].lists)||e.words[r].lists.includes(t))try{const t=new i.default(r,e.words[r],e);this.list.push(r),this.all.push(t),this.regExps.push(t.regExp)}catch(e){n.warn(`Failed to add '${r}' to wordlist.`,e)}}))}find(e){return"string"==typeof e?this.all[this.list.indexOf(e)]:"number"==typeof e?this.all[e]:void 0}}},470:(e,t)=>{"use strict";function r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class s{constructor(){r(this,"xpathDocText",void 0),r(this,"xpathNodeText",void 0)}static isForbiddenNode(e){return!!e.isContentEditable||(!(!e.parentNode||!e.parentNode.isContentEditable&&!s.forbiddenTags.includes(e.parentNode.nodeName))||s.forbiddenTags.includes(e.nodeName))}}t.default=s,r(s,"disabledProtocols",new RegExp("(^chrome:|^about:|^[a-zA-Z]+-extension:)","i")),r(s,"forbiddenNodeRegExp",new RegExp("^s*(<[a-z].+?/?>|{.+?:.+?;.*}|https?://[^s]+$)")),r(s,"forbiddenTags",["SCRIPT","STYLE","INPUT","TEXTAREA","IFRAME","LINK"])},863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=d(r(513)),i=r(582),a=d(r(167)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}s.default=e,r&&r.set(e,s);return s}(r(178));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=new a.default("WebConfig");class c extends s.default{static get _maxBytes(){try{if(chrome.storage.sync.QUOTA_BYTES_PER_ITEM)return Math.round(.98*chrome.storage.sync.QUOTA_BYTES_PER_ITEM);throw"QUOTA_BYTES_PER_ITEM not defined, using default"}catch(e){return 8028}}static chromeStorageAvailable(){return!!("object"==typeof chrome&&chrome.storage&&chrome.storage.sync&&chrome.storage.local)}static combineData(e,t){if(e[t]={},void 0!==e[`_${t}0`]){const r=c.getDataContainerKeys(e,t);return r.forEach((r=>{Object.assign(e[t],e[r]),delete e[r]})),r}}static getDataContainerKeys(e,t){const r=new RegExp(`^_${t}\\d+`);return Object.keys(e).filter((e=>r.test(e))).sort()}static getLocalStorage(e){return"string"==typeof e&&(e=[e]),new Promise(((t,r)=>{chrome.storage.local.get(e,(e=>{chrome.runtime.lastError?r(chrome.runtime.lastError):t(e)}))}))}static getMaxSplitKeyFromArray(e=[]){if(Array.isArray(e)){const t=e.sort()[e.length-1];if(t){const e=new RegExp("\\d+$"),r=t.match(e);if(r)return parseInt(r[0])}}}static getMaxSplitKeyFromData(e,t){const r=c.getDataContainerKeys(e,t);return c.getMaxSplitKeyFromArray(r)}static getSyncStorage(e){return"string"==typeof e&&(e=[e]),new Promise(((t,r)=>{chrome.storage.sync.get(e,(e=>{chrome.runtime.lastError?r(chrome.runtime.lastError):t(e)}))}))}static includesLargeKeys(e){return e.some((e=>c._largeKeys.includes(e)))}static async load(e=[]){e=(0,i.stringArray)(e);const t={};let r;const s=[];let a=[];0===e.length&&(e=Object.keys(c._defaults)).push("words");try{if(c.includesLargeKeys(e)?(e.includes("syncLargeKeys")||e.push("syncLargeKeys"),c._localConfigKeys.forEach((t=>{e.includes(t)&&s.push(t)})),r=await c.getLocalStorage(s),t.syncLargeKeys=!1===r.syncLargeKeys?r.syncLargeKeys:c._defaults.syncLargeKeys,!1===t.syncLargeKeys?(s.forEach((e=>{void 0===r[e]?t[e]="words"===e?c._defaultWords:c._defaults[e]:t[e]=r[e]})),a=e.filter((e=>!c._localConfigKeys.includes(e)))):a=e.filter((e=>"syncLargeKeys"!==e))):a=e.filter((e=>"syncLargeKeys"!==e)),a.length){let e=[].concat(a);c._largeKeys.forEach((t=>{a.includes(t)&&(e.splice(e.indexOf(t),1),e=e.concat(c.splitKeyNames(t)))}));const r=await c.getSyncStorage(e);t._lastSplitKeys={},a.forEach((e=>{if(c._largeKeys.includes(e)){const s=c.combineData(r,e);s?(t._lastSplitKeys[e]=c.getMaxSplitKeyFromArray(s),t[e]=r[e]):(t._lastSplitKeys[e]=0,t[e]="words"===e?c._defaultWords:c._defaults[e])}else void 0===r[e]?t[e]=c._defaults[e]:t[e]=r[e]}))}return new c(t)}catch(t){throw u.error("Failed to load items.",e,t),new Error(`Failed to load items: ${(0,i.prettyPrintArray)(e)}. [${t.message}]`)}}static removeLocalStorage(e){return e=(0,i.stringArray)(e),new Promise(((t,r)=>{chrome.storage.local.remove(e,(()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):t(0)}))}))}static removeSyncStorage(e){return e=(0,i.stringArray)(e),new Promise(((t,r)=>{chrome.storage.sync.remove(e,(()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):t(0)}))}))}static resetLocalStorage(){return new Promise(((e,t)=>{chrome.storage.local.clear((()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(0)}))}))}static resetSyncStorage(){return new Promise(((e,t)=>{chrome.storage.sync.clear((()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e(0)}))}))}static saveLocalStorage(e){return new Promise(((t,r)=>{chrome.storage.local.set(e,(()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):t(0)}))}))}static saveSyncStorage(e){return new Promise(((t,r)=>{chrome.storage.sync.set(e,(()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):t(0)}))}))}static splitKeyNames(e,t=0){return Array(this._maxSplitKeys-t).fill(1).map(((r,s)=>"_"+e+(s+t)))}constructor(e){if(void 0===e)throw new Error("Cannot be called directly, call load() instead.");super(),l(this,"_lastSplitKeys",void 0),l(this,"collectStats",void 0),l(this,"contextMenu",void 0),l(this,"darkMode",void 0),l(this,"domains",void 0),l(this,"enabledDomainsOnly",void 0),l(this,"enabledFramesOnly",void 0),l(this,"password",void 0),l(this,"showUpdateNotification",void 0),l(this,"syncLargeKeys",void 0),Object.assign(this,c._classDefaults,e)}ordered(){return Object.keys(this).sort().reduce(((e,t)=>("_"!=t[0]&&(e[t]=this[t]),e)),{})}async remove(e){e=(0,i.stringArray)(e);let t=[];const r=[];if(e.length>0){e.forEach((e=>{"syncLargeKeys"==e?r.push(e):c._largeKeys.includes(e)?this.syncLargeKeys?t=t.concat(c.splitKeyNames(e)):r.push(e):t.push(e)}));try{t.length&&await c.removeSyncStorage(t),r.length&&await c.removeLocalStorage(r),e.forEach((e=>{delete this[e]}))}catch(t){throw u.error("Failed to remove items.",e,t),new Error(`Failed to remove items: ${(0,i.prettyPrintArray)(e)}. ${t.message}`)}}}async reset(){try{await c.resetSyncStorage(),await c.resetLocalStorage()}catch(e){throw u.error("Failed to clear storage.",e),new Error(`Failed to clear storage. ${e.message}`)}}async resetPreserveStats(){try{await c.resetSyncStorage(),await c.removeLocalStorage(c._localConfigKeys)}catch(e){throw u.error("Failed to clear storage.",e),new Error(`Failed to clear storage. ${e.message}`)}}async save(e=[]){e=(0,i.stringArray)(e);const t={},r={};0===e.length&&(e=Object.keys(c._defaults)).push("words");let s=[];e.forEach((e=>{if("syncLargeKeys"==e)r[e]=this[e];else if(c._largeKeys.includes(e))if(this.syncLargeKeys){if(Object.assign(t,this.splitData(e)),this._lastSplitKeys){const r=c.getMaxSplitKeyFromData(t,e);this._lastSplitKeys[e]>r?s=s.concat(c.splitKeyNames(e,r+1)):this._lastSplitKeys[e]<r&&(this._lastSplitKeys[e]=r)}}else r[e]=this[e];else t[e]=this[e]}));try{if("safari"===o.target){const e=Object.keys(r).filter((e=>null==r[e])),s=Object.keys(t).filter((e=>null==t[e]));e.length&&(await c.removeLocalStorage(e),e.forEach((e=>delete r[e]))),s.length&&(await c.removeSyncStorage(s),s.forEach((e=>delete t[e])))}Object.keys(t).length&&await c.saveSyncStorage(t),Object.keys(r).length&&await c.saveLocalStorage(r),s.length&&await this.remove(s)}catch(t){throw u.error("Failed to save items.",e,t),new Error(`Failed to save items: ${(0,i.prettyPrintArray)(e)}. [${t.message}]`)}}splitData(e){const t=new TextEncoder;let r=0,s=2;const i={};let a=`_${e}${r}`;return i[a]={},s+=t.encode(`{"${a}":{}}`).length,Object.keys(this[e]).sort().forEach((o=>{let n=t.encode(`",${o}":`).length;n+=t.encode(JSON.stringify(this[e][o])).length,s+n>=c._maxBytes&&(r++,a=`_${e}${r}`,i[a]={},s=t.encode(`"${a}":{}`).length),s+=n,i[a][o]=this[e][o]})),i}}t.default=c,l(c,"BUILD",o),l(c,"_classDefaults",{collectStats:!0,contextMenu:!0,darkMode:null,domains:{},enabledDomainsOnly:!1,enabledFramesOnly:!1,password:null,showUpdateNotification:!1,syncLargeKeys:!0}),l(c,"_defaults",Object.assign({},s.default._defaults,c._classDefaults)),l(c,"_localConfigKeys",["domains","syncLargeKeys","words"]),l(c,"_localOnlyKeys",["background","stats"]),l(c,"_maxSplitKeys",64),l(c,"_largeKeys",["domains","words"])},894:function(){
// @license http://unlicense.org/UNLICENSE
"undefined"!=typeof window&&(window.findAndReplaceDOMText=function(){var e="retain",t="first",r=document,s={}.hasOwnProperty;function i(e){return String(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(){return o.apply(null,arguments)||n.apply(null,arguments)}function o(e,t,r,s,i){if(t&&!t.nodeType&&arguments.length<=2)return!1;var o,d="function"==typeof r;d&&(o=r,r=function(e,t){return o(e.text,t.startIndex)});var l=n(t,{find:e,wrap:d?null:r,replace:d?r:"$"+(s||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(s>0){var r=e[s];e.index+=e[0].indexOf(r),e[0]=r}return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},filterElements:i});return a.revert=function(){return l.revert()},!0}function n(e,t){return new d(e,t)}function d(t,r){var i=r.preset&&a.PRESETS[r.preset];if(r.portionMode=r.portionMode||e,i)for(var o in i)s.call(i,o)&&!s.call(r,o)&&(r[o]=i[o]);this.node=t,this.options=r,this.prepMatch=r.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}return a.NON_PROSE_ELEMENTS={br:1,hr:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1},a.NON_CONTIGUOUS_PROSE_ELEMENTS={address:1,article:1,aside:1,blockquote:1,dd:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,nav:1,noscript:1,ol:1,output:1,p:1,pre:1,section:1,ul:1,br:1,li:1,summary:1,dt:1,details:1,rp:1,rt:1,rtc:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1,table:1,tbody:1,thead:1,th:1,tr:1,td:1,caption:1,col:1,tfoot:1,colgroup:1},a.NON_INLINE_PROSE=function(e){return s.call(a.NON_CONTIGUOUS_PROSE_ELEMENTS,e.nodeName.toLowerCase())},a.PRESETS={prose:{forceContext:a.NON_INLINE_PROSE,filterElements:function(e){return!s.call(a.NON_PROSE_ELEMENTS,e.nodeName.toLowerCase())}}},a.Finder=d,d.prototype={search:function(){var e,t=0,r=0,s=this.options.find,a=this.getAggregateText(),o=[],n=this;function d(i){for(var a=0,l=i.length;a<l;++a){var u=i[a];if("string"==typeof u){if(s.global)for(;e=s.exec(u);)o.push(n.prepMatch(e,t++,r));else(e=u.match(s))&&o.push(n.prepMatch(e,0,r));r+=u.length}else d(u)}}return s="string"==typeof s?RegExp(i(s),"g"):s,d(a),o},prepMatch:function(e,t,r){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return e.endIndex=r+e.index+e[0].length,e.startIndex=r+e.index,e.index=t,e},getAggregateText:function(){var e=this.options.filterElements,t=this.options.forceContext;return r(this.node);function r(s){if(s.nodeType===Node.TEXT_NODE)return[s.data];if(e&&!e(s))return[];var i=[""],a=0;if(s=s.firstChild)do{if(s.nodeType!==Node.TEXT_NODE){var o=r(s);t&&s.nodeType===Node.ELEMENT_NODE&&(!0===t||t(s))?(i[++a]=o,i[++a]=""):("string"==typeof o[0]&&(i[a]+=o.shift()),o.length&&(i[++a]=o,i[++a]=""))}else i[a]+=s.data}while(s=s.nextSibling);return i}},processMatches:function(){var e,t,r,s=this.matches,i=this.node,a=this.options.filterElements,o=[],n=i,d=s.shift(),l=0,u=0,c=[i];e:for(;;){if(n.nodeType===Node.TEXT_NODE&&(!t&&n.length+l>=d.endIndex?t={node:n,index:u++,text:n.data.substring(d.startIndex-l,d.endIndex-l),indexInMatch:0===l?0:l-d.startIndex,indexInNode:d.startIndex-l,endIndexInNode:d.endIndex-l,isEnd:!0}:e&&o.push({node:n,index:u++,text:n.data,indexInMatch:l-d.startIndex,indexInNode:0}),!e&&n.length+l>d.startIndex&&(e={node:n,index:u++,indexInMatch:0,indexInNode:d.startIndex-l,endIndexInNode:d.endIndex-l,text:n.data.substring(d.startIndex-l,d.endIndex-l)}),l+=n.data.length),r=n.nodeType===Node.ELEMENT_NODE&&a&&!a(n),e&&t){if(n=this.replaceMatch(d,e,o,t),l-=t.node.data.length-t.endIndexInNode,e=null,t=null,o=[],u=0,!(d=s.shift()))break}else if(!r&&(n.firstChild||n.nextSibling)){n.firstChild?(c.push(n),n=n.firstChild):n=n.nextSibling;continue}for(;;){if(n.nextSibling){n=n.nextSibling;break}if((n=c.pop())===i)break e}}},revert:function(){for(var e=this.reverts.length;e--;)this.reverts[e]();this.reverts=[]},prepareReplacementString:function(e,r,s){var i=this.options.portionMode;return i===t&&r.indexInMatch>0?"":(e=e.replace(/\$(\d+|&|`|')/g,(function(e,t){var r;switch(t){case"&":r=s[0];break;case"`":r=s.input.substring(0,s.startIndex);break;case"'":r=s.input.substring(s.endIndex);break;default:r=s[+t]||""}return r})),i===t?e:r.isEnd?e.substring(r.indexInMatch):e.substring(r.indexInMatch,r.indexInMatch+r.text.length))},getPortionReplacementNode:function(e,t){var s=this.options.replace||"$&";if("function"==typeof s)return(s=s(e,t))&&s.nodeType?s:r.createTextNode(String(s))},replaceMatch:function(e,t,s,i){var a,o,n=t.node,d=i.node;if(n===d){var l=n;t.indexInNode>0&&(a=r.createTextNode(l.data.substring(0,t.indexInNode)),l.parentNode.insertBefore(a,l));var u=this.getPortionReplacementNode(i,e);return l.parentNode.insertBefore(u,l),i.endIndexInNode<l.length&&(o=r.createTextNode(l.data.substring(i.endIndexInNode)),l.parentNode.insertBefore(o,l)),l.parentNode.removeChild(l),this.reverts.push((function(){a===u.previousSibling&&a.parentNode.removeChild(a),o===u.nextSibling&&o.parentNode.removeChild(o),u.parentNode.replaceChild(l,u)})),u}a=r.createTextNode(n.data.substring(0,t.indexInNode)),o=r.createTextNode(d.data.substring(i.endIndexInNode));for(var c=this.getPortionReplacementNode(t,e),h=[],f=0,p=s.length;f<p;++f){var g=s[f],m=this.getPortionReplacementNode(g,e);g.node.parentNode.replaceChild(m,g.node),this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(g,m)),h.push(m)}var E=this.getPortionReplacementNode(i,e);return n.parentNode.insertBefore(a,n),n.parentNode.insertBefore(c,n),n.parentNode.removeChild(n),d.parentNode.insertBefore(E,d),d.parentNode.insertBefore(o,d),d.parentNode.removeChild(d),this.reverts.push((function(){a.parentNode.removeChild(a),c.parentNode.replaceChild(n,c),o.parentNode.removeChild(o),E.parentNode.replaceChild(d,E)})),E}},a}())},178:e=>{"use strict";e.exports=JSON.parse('{"release":true,"config":{},"manifestVersion":0,"target":"bookmarklet","version":"2.40.0"}')}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";r(894);var e=o(r(357)),t=o(r(50)),s=o(r(394)),i=o(r(470)),a=o(r(863));function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}
/* @preserve - Start User Config */(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=a.default._defaults;d.words=a.default._defaultWords;
/* @preserve - End User Config */
class l extends s.default{constructor(){super(),n(this,"buildMessage",void 0),n(this,"domain",void 0),n(this,"extension",void 0),n(this,"filterText",void 0),n(this,"hostname",void 0),n(this,"iframe",void 0),n(this,"location",void 0),n(this,"observer",void 0),n(this,"processMutationTarget",void 0),n(this,"processNode",void 0),n(this,"shadowObserver",void 0),n(this,"stats",void 0),n(this,"updateCounterBadge",void 0),this.extension=!1,this.filterText=!0,this.processMutationTarget=!1}advancedReplaceText(t,r,s=e.default.STATS_TYPE_TEXT){t.parentNode||t===document?this.wordlists[r].regExps.forEach((e=>{findAndReplaceDOMText(t,{preset:"prose",find:e,replace:(e,t)=>0===e.index?this.replaceText(t[0],r,s):""})})):this.cleanText(t,r,s)}checkMutationForProfanity(e){e.addedNodes.forEach((e=>{i.default.isForbiddenNode(e)||this.processNode(e,this.wordlistId)})),e.target&&("#text"===e.target.nodeName?this.checkMutationTargetTextForProfanity(e):this.processMutationTarget&&this.processNode(e.target,this.wordlistId))}checkMutationTargetTextForProfanity(e){if(!i.default.isForbiddenNode(e.target)){const t=this.replaceTextResult(e.target.data,this.wordlistId);t.modified&&(e.target.data=t.filtered)}}cleanChildNode(t,r,s=e.default.STATS_TYPE_TEXT){if(t.nodeName)if(t.textContent&&""!=t.textContent.trim()){const e=this.replaceTextResult(t.textContent,r,s);e.modified&&this.filterText&&(t.textContent=e.filtered)}else"IMG"==t.nodeName?(this.cleanNodeAttribute(t,"alt",r,s),this.cleanNodeAttribute(t,"title",r,s)):t.shadowRoot&&this.filterShadowRoot(t.shadowRoot,r,s)}cleanNode(t,r,s=e.default.STATS_TYPE_TEXT){if(i.default.isForbiddenNode(t))return!1;if(t.shadowRoot&&this.filterShadowRoot(t.shadowRoot,r,s),t.childNodes.length>0)for(let e=0;e<t.childNodes.length;e++)this.cleanNode(t.childNodes[e],r,s);else this.cleanChildNode(t,this.wordlistId,s)}cleanNodeAttribute(t,r,s,i=e.default.STATS_TYPE_TEXT){if(""!=t[r]){const e=this.replaceTextResult(t[r],s,i);e.modified&&this.filterText&&(t[r]=e.filtered)}}cleanPage(){return this.cfg=new a.default(d),this.filterText=this.cfg.filterMethod!==e.default.FILTER_METHODS.OFF,this.domain=t.default.byHostname(this.hostname,this.cfg.domains),(!this.iframe||!(this.cfg.enabledFramesOnly&&!this.domain.framesOn||!this.cfg.enabledFramesOnly&&this.domain.framesOff))&&(!(this.cfg.enabledDomainsOnly&&!this.domain.enabled||this.domain.disabled)&&(void 0!==this.domain.wordlistId&&(this.wordlistId=this.domain.wordlistId),this.init(),this.processNode(document,this.wordlistId),void this.startObserving(document)))}cleanText(t,r,s=e.default.STATS_TYPE_TEXT){if(i.default.isForbiddenNode(t))return!1;if(t.shadowRoot&&this.filterShadowRoot(t.shadowRoot,r,s),t.childElementCount>0){const e=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;e.nextNode();)e.currentNode.childNodes.length>0?e.currentNode.childNodes.forEach((e=>{this.cleanText(e,r,s)})):i.default.isForbiddenNode(e.currentNode)||this.cleanChildNode(e.currentNode,r,s)}else this.cleanChildNode(t,r,s)}filterShadowRoot(t,r,s=e.default.STATS_TYPE_TEXT){this.shadowObserver.observe(t,c),this.processNode(t,r,s)}init(e=!1){super.init(e),this.domain.advanced?this.processNode=this.advancedReplaceText:this.domain.deep?(this.processMutationTarget=!0,this.processNode=this.cleanNode):this.processNode=this.cleanText}processMutations(e){e.forEach((e=>{u.checkMutationForProfanity(e)}))}startObserving(e=document,t=this.observer){t.observe(e,c)}stopObserving(e=this.observer){const t=e.takeRecords();e.disconnect(),t&&this.processMutations(t)}}const u=new l,c={characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0};if("undefined"!=typeof window){if(u.observer=new MutationObserver(u.processMutations),u.shadowObserver=new MutationObserver(u.processMutations),window!=window.top){u.iframe=document.location;try{u.hostname=window.parent.location.hostname}catch(e){document.referrer?u.hostname=new URL(document.referrer).hostname:u.hostname=document.location.hostname}}else u.hostname=document.location.hostname;u.cleanPage()}})()})();